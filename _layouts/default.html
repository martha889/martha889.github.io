<!DOCTYPE html>
<html lang="{{ site.lang | default: "en-US" }}">
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}">
    <link rel="stylesheet" href="{{ '/assets/css/custom.css' | relative_url }}">
    <title>{% if page.title %}{{ page.title }}{% else %}{{ site.title }}{% endif %}</title>
  </head>

  <body>
    <div class="container">
      <header>
        <div class="container">
          <a id="a-title" href="{{ '/' | relative_url }}">
            <h1>{{ site.title | default: site.github.repository_name }}</h1>
          </a>
          <h2>{{ site.description | default: site.github.project_tagline }}</h2>
        </div>
      </header>

      <nav>
        <a href="{{ '/' | relative_url }}" 
           class="nav-link {% if page.url == '/' or page.url == '/index.html' %}active{% endif %}">
          Home
        </a>
        {% for category in site.categories %}
          {% assign category_name = category | first %}
          <a href="/{{ category_name }}" 
             class="nav-link {% if page.category == category_name %}active{% endif %}">
            {{ category_name | capitalize }}
          </a>
        {% endfor %}
        <a href="/about/" 
           class="nav-link {% if page.url == '/about/' %}active{% endif %}">
          About
        </a>
      </nav>

      <div class="container">
        <section id="main_content">
          {% if page.url == "/" %}
            <h1>Latest Posts</h1>
            {% assign sorted_posts = site.posts | sort: 'date' | reverse %}
            {% for post in sorted_posts %}
              <article class="post-preview">
                <h2>
                  <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
                </h2>
                <span class="post-date">{{ post.date | date: "%B %d, %Y" }}</span>
                {% if post.excerpt %}
                  <div class="post-excerpt">
                    {{ post.excerpt }}
                  </div>
                {% endif %}
              </article>
            {% endfor %}
          {% else %}
            {{ content }}
          {% endif %}
        </section>
      </div>
    </div>
  </body>
</html>
